<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>HARSH ❤️ CHIARA</title>
    <style>
        body { margin: 0; overflow: hidden; background: #050002; }
        #ui {
            position: absolute; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center;
            align-items: center; pointer-events: none; z-index: 10;
        }
        .main-title {
            color: #fff; font-family: 'Times New Roman', serif;
            font-size: 2.5rem; letter-spacing: 8px; opacity: 0.8;
            text-shadow: 0 0 20px #ff4d6d; text-align: center;
        }
        .sub-title { color: #ff4d6d; font-size: 0.9rem; margin-top: 10px; letter-spacing: 3px; }
    </style>
</head>
<body>
    <div id="ui">
        <div class="main-title">CHIARA</div>
        <div class="sub-title">ETERNALLY BY HARSH</div>
    </div>

    <script type="importmap">
        { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js" } }
    </script>

    <script type="module">
        import * as THREE from 'three';

        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, powerPreference: "high-performance" });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.body.appendChild(renderer.domElement);

        // --- High-End Lighting ---
        const sun = new THREE.DirectionalLight(0xffffff, 2);
        sun.position.set(5, 10, 7.5);
        scene.add(sun);
        const rimLight = new THREE.PointLight(0xff4d6d, 5, 50);
        rimLight.position.set(-5, -5, -2);
        scene.add(rimLight);

        // --- 10/10 Realistic Plumeria Logic ---
        function createDeluxeFlower() {
            const flowerGroup = new THREE.Group();
            
            // Texture for the "Soft Yellow Center"
            const canvas = document.createElement('canvas');
            canvas.width = 256; canvas.height = 256;
            const ctx = canvas.getContext('2d');
            const grad = ctx.createRadialGradient(128, 128, 10, 128, 128, 110);
            grad.addColorStop(0, '#ffcc00');
            grad.addColorStop(0.4, '#fff9e6');
            grad.addColorStop(1, '#ffffff');
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, 256, 256);
            const texture = new THREE.CanvasTexture(canvas);

            const petalGeom = new THREE.SphereGeometry(0.7, 32, 32);
            petalGeom.scale(1, 0.15, 0.5); // Flattening to real petal shape
            
            const petalMat = new THREE.MeshStandardMaterial({ 
                map: texture, 
                roughness: 0.4, 
                metalness: 0.05,
                side: THREE.DoubleSide 
            });

            for(let i = 0; i < 5; i++) {
                const petal = new THREE.Mesh(petalGeom, petalMat);
                petal.position.x = 0.5;
                const pivot = new THREE.Group();
                pivot.rotation.z = (i * Math.PI * 2) / 5;
                pivot.rotation.y = 0.3; // Slight upward curve
                pivot.add(petal);
                flowerGroup.add(pivot);
            }
            return flowerGroup;
        }

        const bouquet = new THREE.Group();
        for(let i = 0; i < 15; i++) {
            const flower = createDeluxeFlower();
            const angle = Math.random() * Math.PI * 2;
            const radius = 1.5 + Math.random();
            flower.position.set(Math.cos(angle)*radius, Math.sin(angle)*radius, Math.random());
            flower.rotation.set(Math.random(), Math.random(), Math.random());
            flower.scale.setScalar(0.6 + Math.random() * 0.4);
            bouquet.add(flower);
        }
        scene.add(bouquet);

        // --- Hearts Rain ---
        const hearts = [];
        const heartShape = new THREE.Shape();
        heartShape.moveTo(0, 0);
        heartShape.bezierCurveTo(0, 0, -0.5, 0.5, -0.5, 1);
        heartShape.bezierCurveTo(-0.5, 1.5, 0.5, 1.5, 0.5, 1);
        heartShape.bezierCurveTo(0.5, 1.5, 1.5, 1.5, 1.5, 1);
        heartShape.bezierCurveTo(1.5, 0.5, 0.5, 0, 0.5, 0);
        
        const heartGeom = new THREE.ShapeGeometry(heartShape);
        const heartMat = new THREE.MeshPhongMaterial({ color: 0xff0044, shininess: 100 });

        for(let i = 0; i < 60; i++) {
            const h = new THREE.Mesh(heartGeom, heartMat);
            h.position.set(Math.random()*20-10, Math.random()*20-5, Math.random()*-10);
            h.rotation.x = Math.PI;
            scene.add(h);
            hearts.push(h);
        }

        camera.position.z = 8;

        // --- Animation ---
        function animate() {
            requestAnimationFrame(animate);
            const t = Date.now() * 0.001;

            bouquet.rotation.y = Math.sin(t * 0.5) * 0.3;
            bouquet.rotation.x = Math.cos(t * 0.5) * 0.2;
            
            hearts.forEach((h, i) => {
                h.position.y -= 0.03;
                h.rotation.z += 0.01;
                h.scale.setScalar(0.3 + Math.sin(t + i) * 0.1);
                if(h.position.y < -10) h.position.y = 10;
            });

            renderer.render(scene, camera);
        }
        animate();

        // Responsive handling
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
